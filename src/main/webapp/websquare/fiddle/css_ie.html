<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
	<title>WebSquare Source</title>
	<link rel="stylesheet" href="css/css_style.css">
	<style type="text/css">
		textarea {font-size:10pt; font-family: "Inconsolata", "Monaco", "Consolas", "Andale Mono", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace;}
	</style>
</head>
<body style="overflow: hidden;"><textarea id="code" name="code" style="width:100%;height:170px;padding:0;border:0;"></textarea>
	  <script>
		try {
		    var domain = getParameter("domain");  
		    if(domain) {
		        document.domain = domain;   
		    }
		} catch (e) {
		}
  
		var paramObj;
		var editor = {setHeight:function(str) {document.getElementById("code").style.height=str;}, getValue: function() { return document.getElementById("code").value;} , setValue: function(str) { document.getElementById("code").value = str; } };
		try {
			parent.checkAuthority();
		} catch(e) {}

  function getParameter(param) {
      var ret = "";
      try {
          if( !paramObj ) {
              paramObj = {};
              var srch = location.search.substring(1);
              var arrayOfSrch = srch.split("&");
              for (var i=0; i < arrayOfSrch.length; i++) {
                  var tmpArray = arrayOfSrch[i].split("=");
                  if ( tmpArray.length == 2 ) {
                      paramObj[trim(tmpArray[0])] = trim(tmpArray[1]);
                  }
              }
          }
          ret = paramObj[param];
      } catch( e ) {}
      if( ret == null || typeof ret == 'undefined') {
          ret = '';
      }
      return decodeURI(ret);
  }  
  
  function trim(str) {
      if( typeof str == "undefined" && str == null ) return "";
      var leftTrimRegExp =  new RegExp("^\\s\\s*");
      var rightTrimRegExp = new RegExp("\\s\\s*$");
      str = str.replace(leftTrimRegExp, '').replace(rightTrimRegExp, '');
      return str;
  }
  </script>
</body>
</html>
